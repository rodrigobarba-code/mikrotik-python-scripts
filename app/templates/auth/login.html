<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Bootstrap CSS -->

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/8562bd2fa0.js" crossorigin="anonymous"></script>
    <!-- Font Awesome -->

    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
    <!-- Google Fonts -->

    <!-- Custom Internal CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/auth/styles.css') }}">
    <!-- Custom Internal CSS -->

    <!-- Assets CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/sweetalert2/css/sweetalert2.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/notyf/css/notyf.css') }}">
    <!-- Assets CSS -->
</head>
<body>
<!-- Particles Background -->
<div id="particles-js"></div>

<!-- Main content -->
{% block content %}
    <!-- Section: Design Block -->
    <section class="background-radial-gradient vh-100 d-flex align-items-center">
        <div class="main container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <div id="welcome-container" class="d-flex flex-column">
                        <div id="logo-login" class="d-flex"><img
                                src="{{ url_for('static', filename='img/seven_suite_logo.svg') }}"
                                alt="Logo" class="logo img-fluid">
                        </div>
                        <div id="welcome-text" class="d-flex"><h1
                                class="display-5 ls-tight"
                                style="color: hsl(218, 81%, 95%)">
                            Welcome to Seven Suite,<br>
                            <span style="color: hsl(218, 81%, 75%)"> the RED 7 IPAM Software.</span>
                        </h1></div>
                    </div>
                </div>

                <div class="col position-relative">
                    <div id="radius-shape-1" class="position-absolute rounded-circle shadow-5-strong"></div>
                    <div id="radius-shape-2" class="position-absolute shadow-5-strong"></div>

                    <div class="card bg-glass" data-perspective="500"
                         style="transform: perspective(700px) rotateX(0.03deg) rotateY(-0.03deg);">
                        <div id="notification-container" class="card-body px-4 py-5 px-md-5
                    ">
                            <form class="auth-form" method="POST" action="{{ url_for('auth.login') }}">
                                <!-- User input -->
                                <div class="form-group mb-3 position-relative">
                                    <input type="text" class="form-control floating-input" id="username" name="username"
                                           placeholder=" "
                                           required>
                                    <label for="username" class="floating-label"></label>
                                </div>

                                <!-- Password input -->
                                <div class="form-group mb-3 position-relative">
                                    <input type="password" class="form-control floating-input" id="password"
                                           placeholder=" " name="password" required>
                                    <label for="password" class="floating-label"></label>
                                </div>

                                <!-- Switch -->
                                <div class="d-flex justify-content-end form-check form-switch">
                                    <input id="logged-switch" class="form-check-input" type="checkbox" name="logged">
                                    <label id="logged-label" class="form-check-label" for="logged-switch">Remember
                                        me</label>
                                </div>

                                <!-- Forgot password -->
                                <div class="d-flex justify-content-end mt-2">
                                    <a style="color: white; font-size: 20px" href="{{ url_for('auth.reset_password') }}" class="text-decoration-none">Forgot
                                        password?</a>
                                </div>

                                <!-- Submit button -->
                                <button type="submit" data-mdb-button-init data-mdb-ripple-init
                                        class="btn btn-custom d-flex justify-content-center text-center mt-4">
                                    Log in
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Section: Design Block -->
{% endblock %}

<!-- Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<!-- Bootstrap JavaScript -->

<!-- External JavaScript -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<!-- External JavaScript -->

<!-- Custom Internal JavaScript -->
<script src="{{ url_for('static', filename='js/auth/scripts.js') }}"></script>
<script src="{{ url_for('static', filename='js/base/particles.js') }}"></script>
<!-- Custom Internal JavaScript -->

<!-- Assets JavaScript -->
<script src="{{ url_for('static', filename='assets/sweetalert2/js/sweetalert2.js') }}"></script>
<script src="{{ url_for('static', filename='assets/notyf/js/notyf.js') }}"></script>
<!-- Assets JavaScript -->

<!-- Notyf Notification Script -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const notyf = new Notyf({
            duration: 5000, // Duration of the notification
            ripple: true,   // Enable ripple effect
            position: {
                x: 'center',
                y: 'top'
            },
            types: [
                {
                    type: 'error',
                    background: 'linear-gradient(90deg, rgba(255,114,75,1) 0%, rgba(244,46,46,1) 47%, rgba(255,136,0,1) 100%)',
                    icon: {
                        className: 'material-icons',
                        tagName: 'i',
                        text: 'error_outline'
                    }
                },
                {
                    type: 'success',
                    background: 'linear-gradient(90deg, rgba(134,227,149,1) 0%, rgba(50,193,83,1) 57%, rgba(0,91,27,1) 100%)',
                    icon: {
                        className: 'material-icons',
                        tagName: 'i',
                        text: 'check_circle_outline'
                    }
                }
            ]
        });


        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    {% if category == 'error' %}
                        notyf.error("{{ message }}");
                    {% elif category == 'success' %}
                        notyf.success("{{ message }}");
                    {% endif %}
                {% endfor %}
            {% endif %}
        {% endwith %}
    });
</script>
<!-- Add this script to the bottom of login.html -->
{% if redirect_to_home %}
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            setTimeout(function () {
                window.location.href = "{{ url_for('home.home') }}";
            }, 1800);  // Adjust the delay as needed
        });
    </script>
{% endif %}


</body>
</html>
